// tslint:disable-next-line:max-line-length
export const worker = `!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createArrayBufferWithDataView=(e=>{const t=new ArrayBuffer(e);return{arrayBuffer:t,dataView:new DataView(t)}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.joinArrayBuffers=(e=>{const t=e.reduce((e,t)=>e+t.byteLength,0);return e.reduce(({offset:e,uint8Array:t},r)=>(t.set(new Uint8Array(r),e),{offset:e+r.byteLength,uint8Array:t}),{offset:0,uint8Array:new Uint8Array(t)}).uint8Array.buffer})},function(e,t,r){"use strict";r.r(t);var n=function(e){var t=new ArrayBuffer(e);return{arrayBuffer:t,dataView:new DataView(t)}},i=function(e){var t=e.reduce(function(e,t){return e+t.byteLength},0);return e.reduce(function(e,t){var r=e[0],n=e[1];return n.set(new Uint8Array(t),r),[r+t.byteLength,n]},[0,new Uint8Array(t)])[1].buffer},a=function(e){for(var t=Math.max(1,Math.floor(Math.log(e)/Math.log(2)/7)+1),r=n(t),i=r.arrayBuffer,a=r.dataView,s=t-1,o=e,f=0;f<s;f+=1)a.setUint8(f,o>>7|128),o&=127;return a.setUint8(t-1,o),i};r.d(t,"encode",function(){return s});var s=function(e){if(function(e){return void 0!==e.channelPrefix}(e)){var t=n(4),r=t.arrayBuffer;return(g=t.dataView).setUint8(0,255),g.setUint8(1,32),g.setUint8(2,1),g.setUint8(3,e.channelPrefix),r}if(function(e){return void 0!==e.controlChange}(e)){var s=n(3);r=s.arrayBuffer;return(g=s.dataView).setUint8(0,176|15&e.channel),g.setUint8(1,e.controlChange.type),g.setUint8(2,e.controlChange.value),r}if(function(e){return void 0!==e.endOfTrack}(e)){var o=n(3);r=o.arrayBuffer;return(g=o.dataView).setUint8(0,255),g.setUint8(1,47),g.setUint8(2,0),r}if(function(e){return void 0!==e.keySignature}(e)){var f=n(5);r=f.arrayBuffer;return(g=f.dataView).setUint8(0,255),g.setUint8(1,89),g.setUint8(2,2),g.setUint8(3,e.keySignature.key),g.setUint8(4,e.keySignature.scale),r}if(function(e){return void 0!==e.lyric}(e)){var u=n(2);r=u.arrayBuffer;(g=u.dataView).setUint8(0,255),g.setUint8(1,5);var c=(new TextEncoder).encode(e.lyric).buffer,d=a(c.byteLength);return i([r,d,c])}if(function(e){return void 0!==e.midiPort}(e)){var y=n(4);r=y.arrayBuffer;return(g=y.dataView).setUint8(0,255),g.setUint8(1,33),g.setUint8(2,1),g.setUint8(3,e.midiPort),r}if(function(e){return void 0!==e.noteOff}(e)){var U=n(3);r=U.arrayBuffer;return(g=U.dataView).setUint8(0,128|15&e.channel),g.setUint8(1,e.noteOff.noteNumber),g.setUint8(2,e.noteOff.velocity),r}if(function(e){return void 0!==e.noteOn}(e)){var l=n(3);r=l.arrayBuffer;return(g=l.dataView).setUint8(0,144|15&e.channel),g.setUint8(1,e.noteOn.noteNumber),g.setUint8(2,e.noteOn.velocity),r}if(function(e){return void 0!==e.pitchBend}(e)){var v=n(3);r=v.arrayBuffer;return(g=v.dataView).setUint8(0,224|15&e.channel),g.setUint8(1,127&e.pitchBend),g.setUint8(2,e.pitchBend>>7),r}if(function(e){return void 0!==e.programChange}(e)){var h=n(2);r=h.arrayBuffer;return(g=h.dataView).setUint8(0,192|15&e.channel),g.setUint8(1,e.programChange.programNumber),r}if(function(e){return void 0!==e.setTempo}(e)){var m=n(6);r=m.arrayBuffer;return(g=m.dataView).setUint8(0,255),g.setUint8(1,81),g.setUint8(2,3),g.setUint8(3,e.setTempo.microsecondsPerBeat>>16),g.setUint8(4,e.setTempo.microsecondsPerBeat>>8),g.setUint8(5,e.setTempo.microsecondsPerBeat),r}if(function(e){return void 0!==e.smpteOffset}(e)){var w=n(8),g=(r=w.arrayBuffer,w.dataView),p=void 0;if(24===e.smpteOffset.frameRate)p=0;else if(25===e.smpteOffset.frameRate)p=32;else if(29===e.smpteOffset.frameRate)p=64;else{if(30!==e.smpteOffset.frameRate)throw new Error;p=96}return g.setUint8(0,255),g.setUint8(1,84),g.setUint8(2,5),g.setUint8(3,e.smpteOffset.hour|p),g.setUint8(4,e.smpteOffset.minutes),g.setUint8(5,e.smpteOffset.seconds),g.setUint8(6,e.smpteOffset.frame),g.setUint8(7,e.smpteOffset.subFrame),r}if(function(e){return void 0!==e.sysex}(e)){var B=n(1);r=B.arrayBuffer;(g=B.dataView).setUint8(0,240);for(var b=e.sysex.length/2,V=a(b),O=n(b),x=O.arrayBuffer,M=O.dataView,A=0;A<e.sysex.length;A+=2)M.setUint8(A/2,parseInt(e.sysex.slice(A,A+2),16));return i([r,V,x])}if(function(e){return void 0!==e.timeSignature}(e)){for(var P=n(7),_=(r=P.arrayBuffer,g=P.dataView,e.timeSignature.denominator),j=0;_>1;)_/=2,j+=1;return g.setUint8(0,255),g.setUint8(1,88),g.setUint8(2,4),g.setUint8(3,e.timeSignature.numerator),g.setUint8(4,j),g.setUint8(5,e.timeSignature.metronome),g.setUint8(6,e.timeSignature.thirtyseconds),r}if(function(e){return void 0!==e.text}(e)){var L=n(2);r=L.arrayBuffer;(g=L.dataView).setUint8(0,255),g.setUint8(1,1);c=(new TextEncoder).encode(e.text).buffer,d=a(c.byteLength);return i([r,d,c])}if(function(e){return void 0!==e.trackName}(e)){var E=n(2);r=E.arrayBuffer;(g=E.dataView).setUint8(0,255),g.setUint8(1,3);c=(new TextEncoder).encode(e.trackName).buffer,d=a(c.byteLength);return i([r,d,c])}throw new Error('Unencodable event with a delta of "'+e.delta+'".')}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.writeVariableLengthQuantity=void 0;var n=r(0);t.writeVariableLengthQuantity=(e=>{const t=Math.max(1,Math.floor(Math.log(e)/Math.log(2)/7)+1);var r=(0,n.createArrayBufferWithDataView)(t);const i=r.arrayBuffer,a=r.dataView,s=t-1;let o=e;for(let e=0;e<s;e+=1)a.setUint8(e,o>>7|128),o&=127;return a.setUint8(t-1,o),i})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encode=void 0;var n=r(2),i=r(0),a=r(1),s=r(3);t.encode=(e=>{var t=(0,i.createArrayBufferWithDataView)(8);const r=t.arrayBuffer,o=t.dataView,f=[r];let u=0;o.setUint32(0,1297379947);for(const t of e){const r=(0,s.writeVariableLengthQuantity)(t.delta);try{const i=(0,n.encode)(t);u+=r.byteLength+i.byteLength,f.push(r,i)}catch(r){if(r.message.match(/Unencodable\\smessage\\swith\\sa\\sdelta\\sof\\s[0-9]+\\./)){const r=e.indexOf(t);throw new Error("Unencodable message at index "+r+".")}throw r}}return o.setUint32(4,u),(0,a.joinArrayBuffers)(f)})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encode=void 0;var n=r(0);t.encode=((e,t,r)=>{var i=(0,n.createArrayBufferWithDataView)(14);const a=i.arrayBuffer,s=i.dataView;return s.setUint32(0,1297377380),s.setUint32(4,6),s.setUint16(8,t),s.setUint16(10,r.length),s.setUint16(12,e),a})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encode=void 0;var n=r(5),i=r(4),a=r(1);t.encode=(({division:e,format:t,tracks:r})=>{const s=[];try{s.push((0,n.encode)(e,t,r))}catch(e){throw new Error("The given JSON object seems to be invalid.")}for(const e of r)try{s.push((0,i.encode)(e))}catch(t){if(t.message.match(/Unencodable\\sevent\\sat\\sposition\\s[0-9]+\\./)){const n=r.indexOf(e);throw new Error(t.message.slice(0,-1)+" of the track at index "+n+".")}throw t}return(0,a.joinArrayBuffers)(s)})},function(e,t,r){"use strict";var n=r(6);addEventListener("message",({data:e})=>{try{if("encode"!==e.method)throw new Error('The given method "'+e.method+'" is not supported');{const t=e.id,r=e.params.midiFile,i=(0,n.encode)(r);postMessage({error:null,id:t,result:{arrayBuffer:i}},[i])}}catch(t){postMessage({error:{message:t.message},id:e.id,result:null})}})}]);`;

// tslint:disable-next-line:max-line-length
export const worker = `!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var n=function(e){var t=new ArrayBuffer(e);return{arrayBuffer:t,dataView:new DataView(t)}},a=function(e){var t=new ArrayBuffer(e);return{arrayBuffer:t,dataView:new DataView(t)}},i=function(e){var t=e.reduce(function(e,t){return e+t.byteLength},0);return e.reduce(function(e,t){var r=e[0],n=e[1];return n.set(new Uint8Array(t),r),[r+t.byteLength,n]},[0,new Uint8Array(t)])[1].buffer},f=function(e){for(var t=Math.max(1,Math.floor(Math.log(e)/Math.log(2)/7)+1),r=a(t),n=r.arrayBuffer,i=r.dataView,f=t-1,s=e,o=0;o<f;o+=1)i.setUint8(o,s>>7|128),s&=127;return i.setUint8(t-1,s),n},s=function(e){if(function(e){return void 0!==e.channelPrefix}(e)){var t=a(4),r=t.arrayBuffer;return(g=t.dataView).setUint8(0,255),g.setUint8(1,32),g.setUint8(2,1),g.setUint8(3,e.channelPrefix),r}if(function(e){return void 0!==e.controlChange}(e)){var n=a(3);r=n.arrayBuffer;return(g=n.dataView).setUint8(0,176|15&e.channel),g.setUint8(1,e.controlChange.type),g.setUint8(2,e.controlChange.value),r}if(function(e){return void 0!==e.endOfTrack}(e)){var s=a(3);r=s.arrayBuffer;return(g=s.dataView).setUint8(0,255),g.setUint8(1,47),g.setUint8(2,0),r}if(function(e){return void 0!==e.keySignature}(e)){var o=a(5);r=o.arrayBuffer;return(g=o.dataView).setUint8(0,255),g.setUint8(1,89),g.setUint8(2,2),g.setUint8(3,e.keySignature.key),g.setUint8(4,e.keySignature.scale),r}if(function(e){return void 0!==e.lyric}(e)){var u=a(2);r=u.arrayBuffer;(g=u.dataView).setUint8(0,255),g.setUint8(1,5);var c=(new TextEncoder).encode(e.lyric).buffer,d=f(c.byteLength);return i([r,d,c])}if(function(e){return void 0!==e.midiPort}(e)){var U=a(4);r=U.arrayBuffer;return(g=U.dataView).setUint8(0,255),g.setUint8(1,33),g.setUint8(2,1),g.setUint8(3,e.midiPort),r}if(function(e){return void 0!==e.noteOff}(e)){var v=a(3);r=v.arrayBuffer;return(g=v.dataView).setUint8(0,128|15&e.channel),g.setUint8(1,e.noteOff.noteNumber),g.setUint8(2,e.noteOff.velocity),r}if(function(e){return void 0!==e.noteOn}(e)){var y=a(3);r=y.arrayBuffer;return(g=y.dataView).setUint8(0,144|15&e.channel),g.setUint8(1,e.noteOn.noteNumber),g.setUint8(2,e.noteOn.velocity),r}if(function(e){return void 0!==e.pitchBend}(e)){var l=a(3);r=l.arrayBuffer;return(g=l.dataView).setUint8(0,224|15&e.channel),g.setUint8(1,127&e.pitchBend),g.setUint8(2,e.pitchBend>>7),r}if(function(e){return void 0!==e.programChange}(e)){var h=a(2);r=h.arrayBuffer;return(g=h.dataView).setUint8(0,192|15&e.channel),g.setUint8(1,e.programChange.programNumber),r}if(function(e){return void 0!==e.setTempo}(e)){var m=a(6);r=m.arrayBuffer;return(g=m.dataView).setUint8(0,255),g.setUint8(1,81),g.setUint8(2,3),g.setUint8(3,e.setTempo.microsecondsPerBeat>>16),g.setUint8(4,e.setTempo.microsecondsPerBeat>>8),g.setUint8(5,e.setTempo.microsecondsPerBeat),r}if(function(e){return void 0!==e.smpteOffset}(e)){var w=a(8),g=(r=w.arrayBuffer,w.dataView),p=void 0;if(24===e.smpteOffset.frameRate)p=0;else if(25===e.smpteOffset.frameRate)p=32;else if(29===e.smpteOffset.frameRate)p=64;else{if(30!==e.smpteOffset.frameRate)throw new Error;p=96}return g.setUint8(0,255),g.setUint8(1,84),g.setUint8(2,5),g.setUint8(3,e.smpteOffset.hour|p),g.setUint8(4,e.smpteOffset.minutes),g.setUint8(5,e.smpteOffset.seconds),g.setUint8(6,e.smpteOffset.frame),g.setUint8(7,e.smpteOffset.subFrame),r}if(function(e){return void 0!==e.sysex}(e)){var B=a(1);r=B.arrayBuffer;(g=B.dataView).setUint8(0,240);for(var b=e.sysex.length/2,V=f(b),x=a(b),O=x.arrayBuffer,M=x.dataView,S=0;S<e.sysex.length;S+=2)M.setUint8(S/2,parseInt(e.sysex.slice(S,S+2),16));return i([r,V,O])}if(function(e){return void 0!==e.timeSignature}(e)){for(var A=a(7),E=(r=A.arrayBuffer,g=A.dataView,e.timeSignature.denominator),L=0;E>1;)E/=2,L+=1;return g.setUint8(0,255),g.setUint8(1,88),g.setUint8(2,4),g.setUint8(3,e.timeSignature.numerator),g.setUint8(4,L),g.setUint8(5,e.timeSignature.metronome),g.setUint8(6,e.timeSignature.thirtyseconds),r}if(function(e){return void 0!==e.text}(e)){var P=a(2);r=P.arrayBuffer;(g=P.dataView).setUint8(0,255),g.setUint8(1,1);c=(new TextEncoder).encode(e.text).buffer,d=f(c.byteLength);return i([r,d,c])}if(function(e){return void 0!==e.trackName}(e)){var T=a(2);r=T.arrayBuffer;(g=T.dataView).setUint8(0,255),g.setUint8(1,3);c=(new TextEncoder).encode(e.trackName).buffer,d=f(c.byteLength);return i([r,d,c])}throw new Error('Unencodable event with a delta of "'+e.delta+'".')},o=function(e){var t=e.reduce(function(e,t){return e+t.byteLength},0);return e.reduce(function(e,t){var r=e.offset,n=e.uint8Array;return n.set(new Uint8Array(t),r),{offset:r+t.byteLength,uint8Array:n}},{offset:0,uint8Array:new Uint8Array(t)}).uint8Array.buffer},u=function(e){for(var t=Math.max(1,Math.floor(Math.log(e)/Math.log(2)/7)+1),r=n(t),a=r.arrayBuffer,i=r.dataView,f=t-1,s=e,o=0;o<f;o+=1)i.setUint8(o,s>>7|128),s&=127;return i.setUint8(t-1,s),a},c=function(e){var t=n(8),r=t.arrayBuffer,a=t.dataView,i=[r],f=0;a.setUint32(0,1297379947);var c=!0,d=!1,U=void 0;try{for(var v,y=e[Symbol.iterator]();!(c=(v=y.next()).done);c=!0){var l=v.value,h=u(l.delta);try{var m=s(l);f+=h.byteLength+m.byteLength,i.push(h,m)}catch(t){if(t.message.match(/Unencodable\\smessage\\swith\\sa\\sdelta\\sof\\s[0-9]+\\./)){var w=e.indexOf(l);throw new Error("Unencodable message at index "+w+".")}throw t}}}catch(e){d=!0,U=e}finally{try{!c&&y.return&&y.return()}finally{if(d)throw U}}return a.setUint32(4,f),o(i)},d=function(e){var t=e.division,r=e.format,a=e.tracks,i=[];try{i.push(function(e,t,r){var a=n(14),i=a.arrayBuffer,f=a.dataView;return f.setUint32(0,1297377380),f.setUint32(4,6),f.setUint16(8,t),f.setUint16(10,r.length),f.setUint16(12,e),i}(t,r,a))}catch(e){throw new Error("The given JSON object seems to be invalid.")}var f=!0,s=!1,u=void 0;try{for(var d,U=a[Symbol.iterator]();!(f=(d=U.next()).done);f=!0){var v=d.value;try{i.push(c(v))}catch(e){if(e.message.match(/Unencodable\\sevent\\sat\\sposition\\s[0-9]+\\./)){var y=a.indexOf(v);throw new Error(e.message.slice(0,-1)+" of the track at index "+y+".")}throw e}}}catch(e){s=!0,u=e}finally{try{!f&&U.return&&U.return()}finally{if(s)throw u}}return o(i)};addEventListener("message",function(e){var t=e.data;try{if("encode"!==t.method)throw new Error('The given method "'+t.method+'" is not supported');var r=t.id,n=t.params.midiFile,a=d(n);postMessage({error:null,id:r,result:{arrayBuffer:a}},[a])}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}})}]);`;
